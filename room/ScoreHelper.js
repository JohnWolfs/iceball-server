"use strict";
var ScoreConfig = {
    bulletExplosions: 1,
    balls: 8,
    winBalls: 10
};
var ScoreHelper = (function () {
    function ScoreHelper(id1, name1, id2, name2) {
        this._scoreList = new Array(2);
        this._scoreList[0] = {
            id: '',
            name: '',
            score: 0,
            balls: 0,
            bulletExplosions: 0
        };
        this._scoreList[1] = {
            id: '',
            name: '',
            score: 0,
            balls: 0,
            bulletExplosions: 0
        };
        this._scoreList[0].id = id1;
        this._scoreList[0].name = name1;
        this._scoreList[1].id = id2;
        this._scoreList[1].name = name2;
    }
    ScoreHelper.prototype.causeExplosion = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                this._scoreList[i].bulletExplosions += 1;
                this._scoreList[i].score += ScoreConfig.bulletExplosions;
            }
        }
    };
    ScoreHelper.prototype.scorein = function (id, scoreType) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                switch (scoreType) {
                    case 'bulletExplosion': {
                        this._scoreList[i].bulletExplosions += 1;
                        this._scoreList[i].score += ScoreConfig.bulletExplosions;
                        break;
                    }
                    case 'ballin': {
                        this._scoreList[i].balls += 1;
                        this._scoreList[i].score += ScoreConfig.balls;
                        break;
                    }
                }
            }
        }
    };
    ScoreHelper.prototype.checkWin = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                if (this._scoreList[i].balls === ScoreConfig.winBalls)
                    return true;
            }
        }
        return false;
    };
    ScoreHelper.prototype.ballIn = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                this._scoreList[i].balls += 1;
                this._scoreList[i].score += ScoreConfig.balls;
                if (this._scoreList[i].balls === ScoreConfig.winBalls) {
                    return true;
                }
            }
        }
        return false;
    };
    ScoreHelper.prototype.getScore = function (uid) {
        if (uid) {
            for (var i = 0; i < this._scoreList.length; i++) {
                if (this._scoreList[i].id === uid) {
                    return this._scoreList[i];
                }
            }
        }
        else
            return this._scoreList;
    };
    return ScoreHelper;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ScoreHelper;

//# sourceMappingURL=data:application/json;base64,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QUMsQ0FBQyxLQUFLLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQztnQkFFOUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ2hCLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUdNLDhCQUFRLEdBQWYsVUFBZ0IsR0FBWTtRQUV4QixFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ0wsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM3QyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBQ0QsSUFBSTtZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ2hDLENBQUM7SUFDTCxrQkFBQztBQUFELENBNUZBLEFBNEZDLElBQUE7QUE1RkQ7NkJBNEZDLENBQUEiLCJmaWxlIjoicm9vbS9TY29yZUhlbHBlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNjb3JlQ29uZmlnID0ge1xyXG4gICAgYnVsbGV0RXhwbG9zaW9uczogMSxcclxuICAgIGJhbGxzOiA4LFxyXG4gICAgd2luQmFsbHM6IDEwXHJcbn1cclxuaW50ZXJmYWNlIFNjb3JlRGF0YSB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgc2NvcmU6IG51bWJlcjtcclxuICAgIGJhbGxzOiBudW1iZXI7XHJcbiAgICBidWxsZXRFeHBsb3Npb25zOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliIbmlbDnrqHnkIZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JlSGVscGVyIHtcclxuICAgIHB1YmxpYyBfc2NvcmVMaXN0OiBBcnJheTxTY29yZURhdGE+O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihpZDE6IHN0cmluZywgbmFtZTE6IHN0cmluZywgaWQyOiBzdHJpbmcsIG5hbWUyOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9zY29yZUxpc3QgPSBuZXcgQXJyYXk8U2NvcmVEYXRhPigyKTtcclxuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMF0gPSB7XHJcbiAgICAgICAgICAgIGlkOiAnJyxcclxuICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgIHNjb3JlOiAwLFxyXG4gICAgICAgICAgICBiYWxsczogMCxcclxuICAgICAgICAgICAgYnVsbGV0RXhwbG9zaW9uczogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fc2NvcmVMaXN0WzFdID0ge1xyXG4gICAgICAgICAgICBpZDogJycsXHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICBzY29yZTogMCxcclxuICAgICAgICAgICAgYmFsbHM6IDAsXHJcbiAgICAgICAgICAgIGJ1bGxldEV4cGxvc2lvbnM6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX3Njb3JlTGlzdFswXS5pZCA9IGlkMTtcclxuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMF0ubmFtZSA9IG5hbWUxO1xyXG4gICAgICAgIHRoaXMuX3Njb3JlTGlzdFsxXS5pZCA9IGlkMjtcclxuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMV0ubmFtZSA9IG5hbWUyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWtkOW8ueeIhueCuOW+l+WIhlxyXG4gICAgcHVibGljIGNhdXNlRXhwbG9zaW9uKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAwLCBsID0gdGhpcy5fc2NvcmVMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBpZih0aGlzLl9zY29yZUxpc3RbaV0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uYnVsbGV0RXhwbG9zaW9ucyArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NvcmVMaXN0W2ldLnNjb3JlICs9IFNjb3JlQ29uZmlnLmJ1bGxldEV4cGxvc2lvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5pS55Y+Y5b6X5YiGXHJcbiAgICBwdWJsaWMgc2NvcmVpbihpZDogc3RyaW5nLCBzY29yZVR5cGU6IHN0cmluZykge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGwgPSB0aGlzLl9zY29yZUxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChzY29yZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdidWxsZXRFeHBsb3Npb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5idWxsZXRFeHBsb3Npb25zICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5zY29yZSArPSBTY29yZUNvbmZpZy5idWxsZXRFeHBsb3Npb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYmFsbGluJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uYmFsbHMgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NvcmVMaXN0W2ldLnNjb3JlICs9IFNjb3JlQ29uZmlnLmJhbGxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5qOA5p+l546p5a626L+b55CD5ZCO5piv5ZCm6L6+5Yiw6IOc5Yip5p2h5Lu2XHJcbiAgICBwdWJsaWMgY2hlY2tXaW4oaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGwgPSB0aGlzLl9zY29yZUxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5iYWxscyA9PT0gU2NvcmVDb25maWcud2luQmFsbHMpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDov5vnkIPlvpfliIZcclxuICAgIHB1YmxpYyBiYWxsSW4oaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGwgPSB0aGlzLl9zY29yZUxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5iYWxscyArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NvcmVMaXN0W2ldLnNjb3JlICs9IFNjb3JlQ29uZmlnLmJhbGxzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5iYWxscyA9PT0gU2NvcmVDb25maWcud2luQmFsbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L+U5Zue5pyA57uI5YiG5pWwXHJcbiAgICBwdWJsaWMgZ2V0U2NvcmUodWlkPzogc3RyaW5nKTogYW55e1xyXG5cclxuICAgICAgICBpZih1aWQpIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX3Njb3JlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fc2NvcmVMaXN0W2ldLmlkID09PSB1aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NvcmVMaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIHRoaXMuX3Njb3JlTGlzdDtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
