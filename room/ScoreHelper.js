"use strict";
var ScoreConfig = {
    bulletExplosions: 1,
    balls: 8,
    winBalls: 10
};
var ScoreHelper = (function () {
    function ScoreHelper(id1, name1, id2, name2) {
        this._scoreList = new Array(2);
        this._scoreList[0] = {
            id: '',
            name: '',
            score: 0,
            balls: 0,
            bulletExplosions: 0
        };
        this._scoreList[1] = {
            id: '',
            name: '',
            score: 0,
            balls: 0,
            bulletExplosions: 0
        };
        this._scoreList[0].id = id1;
        this._scoreList[0].name = name1;
        this._scoreList[1].id = id2;
        this._scoreList[1].name = name2;
    }
    ScoreHelper.prototype.causeExplosion = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                this._scoreList[i].bulletExplosions += 1;
                this._scoreList[i].score += ScoreConfig.bulletExplosions;
            }
        }
    };
    ScoreHelper.prototype.scorein = function (id, scoreType) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                switch (scoreType) {
                    case 'bulletExplosion': {
                        this._scoreList[i].bulletExplosions += 1;
                        this._scoreList[i].score += ScoreConfig.bulletExplosions;
                        break;
                    }
                    case 'ballin': {
                        this._scoreList[i].balls += 1;
                        this._scoreList[i].score += ScoreConfig.balls;
                        break;
                    }
                }
            }
        }
    };
    ScoreHelper.prototype.checkWin = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                if (this._scoreList[i].balls === ScoreConfig.winBalls)
                    return true;
            }
        }
        return false;
    };
    ScoreHelper.prototype.ballIn = function (id) {
        for (var i = 0, l = this._scoreList.length; i < l; i++) {
            if (this._scoreList[i].id === id) {
                this._scoreList[i].balls += 1;
                this._scoreList[i].score += ScoreConfig.balls;
                if (this._scoreList[i].balls === ScoreConfig.winBalls) {
                    return true;
                }
            }
        }
        return false;
    };
    ScoreHelper.prototype.getScore = function (uid) {
        if (uid) {
            for (var i = 0; i < this._scoreList.length; i++) {
                if (this._scoreList[i].id === uid) {
                    return this._scoreList[i];
                }
            }
        }
        else
            return this._scoreList;
    };
    return ScoreHelper;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ScoreHelper;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUMsQ0FBQyxLQUFLLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQztnQkFFOUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ2hCLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUdNLDhCQUFRLEdBQWYsVUFBZ0IsR0FBWTtRQUV4QixFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ0wsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM3QyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBQ0QsSUFBSTtZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ2hDLENBQUM7SUFDTCxrQkFBQztBQUFELENBNUZBLEFBNEZDLElBQUE7QUE1RkQ7NkJBNEZDLENBQUEiLCJmaWxlIjoicm9vbS9TY29yZUhlbHBlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNjb3JlQ29uZmlnID0ge1xuICAgIGJ1bGxldEV4cGxvc2lvbnM6IDEsXG4gICAgYmFsbHM6IDgsXG4gICAgd2luQmFsbHM6IDEwXG59XG5pbnRlcmZhY2UgU2NvcmVEYXRhIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzY29yZTogbnVtYmVyO1xuICAgIGJhbGxzOiBudW1iZXI7XG4gICAgYnVsbGV0RXhwbG9zaW9uczogbnVtYmVyO1xufVxuXG4vKipcbiAqIOWIhuaVsOeuoeeQhlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZUhlbHBlciB7XG4gICAgcHVibGljIF9zY29yZUxpc3Q6IEFycmF5PFNjb3JlRGF0YT47XG4gICAgXG4gICAgY29uc3RydWN0b3IoaWQxOiBzdHJpbmcsIG5hbWUxOiBzdHJpbmcsIGlkMjogc3RyaW5nLCBuYW1lMjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3Njb3JlTGlzdCA9IG5ldyBBcnJheTxTY29yZURhdGE+KDIpO1xuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMF0gPSB7XG4gICAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIHNjb3JlOiAwLFxuICAgICAgICAgICAgYmFsbHM6IDAsXG4gICAgICAgICAgICBidWxsZXRFeHBsb3Npb25zOiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3Njb3JlTGlzdFsxXSA9IHtcbiAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICBiYWxsczogMCxcbiAgICAgICAgICAgIGJ1bGxldEV4cGxvc2lvbnM6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc2NvcmVMaXN0WzBdLmlkID0gaWQxO1xuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMF0ubmFtZSA9IG5hbWUxO1xuICAgICAgICB0aGlzLl9zY29yZUxpc3RbMV0uaWQgPSBpZDI7XG4gICAgICAgIHRoaXMuX3Njb3JlTGlzdFsxXS5uYW1lID0gbmFtZTI7XG4gICAgfVxuXG4gICAgLy8g5a2Q5by554iG54K45b6X5YiGXG4gICAgcHVibGljIGNhdXNlRXhwbG9zaW9uKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgbCA9IHRoaXMuX3Njb3JlTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uYnVsbGV0RXhwbG9zaW9ucyArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5zY29yZSArPSBTY29yZUNvbmZpZy5idWxsZXRFeHBsb3Npb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5pS55Y+Y5b6X5YiGXG4gICAgcHVibGljIHNjb3JlaW4oaWQ6IHN0cmluZywgc2NvcmVUeXBlOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgbCA9IHRoaXMuX3Njb3JlTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goc2NvcmVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J1bGxldEV4cGxvc2lvbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5idWxsZXRFeHBsb3Npb25zICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uc2NvcmUgKz0gU2NvcmVDb25maWcuYnVsbGV0RXhwbG9zaW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JhbGxpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njb3JlTGlzdFtpXS5iYWxscyArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NvcmVMaXN0W2ldLnNjb3JlICs9IFNjb3JlQ29uZmlnLmJhbGxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmo4Dmn6Xnjqnlrrbov5vnkIPlkI7mmK/lkKbovr7liLDog5zliKnmnaHku7ZcbiAgICBwdWJsaWMgY2hlY2tXaW4oaWQ6IHN0cmluZykge1xuICAgICAgICBmb3IobGV0IGkgPSAwLCBsID0gdGhpcy5fc2NvcmVMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodGhpcy5fc2NvcmVMaXN0W2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5iYWxscyA9PT0gU2NvcmVDb25maWcud2luQmFsbHMpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyDov5vnkIPlvpfliIZcbiAgICBwdWJsaWMgYmFsbEluKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgbCA9IHRoaXMuX3Njb3JlTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njb3JlTGlzdFtpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uYmFsbHMgKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY29yZUxpc3RbaV0uc2NvcmUgKz0gU2NvcmVDb25maWcuYmFsbHM7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLl9zY29yZUxpc3RbaV0uYmFsbHMgPT09IFNjb3JlQ29uZmlnLndpbkJhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8g6L+U5Zue5pyA57uI5YiG5pWwXG4gICAgcHVibGljIGdldFNjb3JlKHVpZD86IHN0cmluZyk6IGFueXtcblxuICAgICAgICBpZih1aWQpIHtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9zY29yZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9zY29yZUxpc3RbaV0uaWQgPT09IHVpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NvcmVMaXN0W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJldHVybiB0aGlzLl9zY29yZUxpc3Q7XG4gICAgfVxufSJdfQ==
